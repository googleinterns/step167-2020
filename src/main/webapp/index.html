<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Melting Pot</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <p id="signed-in">Unknown</p>

    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-app.js"></script>

    <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
    <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-analytics.js"></script>

    <!-- Add Firebase products that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/7.16.1/firebase-auth.js"></script>

    <!-- Markdown rendering -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- TODO: replace this script with whatever needs to be done on index.html -->
    <script type="module">
      import {app} from "/scripts/init.js"
    
      function signInStatus() {
        app.auth().onAuthStateChanged(function(user){
          if (user) {
            document.getElementById("signed-in").textContent = "Signed in";
          } else {
            document.getElementById("signed-in").textContent = "Signed out";
          }
        });

        if (app == null){
          return;
        }
        else if (app.auth().currentUser) {
          document.getElementById("signed-in").textContent = "Signed in";
        }
        else { document.getElementById("signed-in").textContent = "Signed out"}
      }
      signInStatus();
    </script>
  </body>
</html>
